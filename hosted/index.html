<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Super exPENsion</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <script src="/bundle.js"></script>
</head>
<body>
  <h1 id="logo">
    <span id="logoAi">AI</span> <span id="logoSuper">Super</span> ex<span id="logoPen">PEN</span>sion
  </h1>
  <div id="screens">
    <div id="startScreen" class="activeScreen">
      <p>One player starts with a scribble, the other makes a drawing out of it, and an AI makes its own variation!</p>
      <button id="newGameButton" type="button" class="btn btn-primary">Start new game</button>
      <button id="joinGameButton" type="button" class="btn btn-primary">Join game via code</button>
      <p id="aiDisclaimer">DISCLAIMER: This game uses the <a target="_blank" href="https://platform.openai.com/docs/guides/images/image-generation">OpenAI Image API</a></p>
      <p id="newGameError" class="text-warning"></p>
    </div>
    <div id="displayCodeScreen">
      <p>Tell the other player to join with the code:</p>
      <h2 id="codeDisplay"></h2>
    </div>
    <div id="inputCodeScreen">
      <p>Enter the game code given by the other player:</p>
      <!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/maxlength -->
      <!-- https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion -->
      <input type="text" maxlength="3" id="codeInput" autocomplete="off">
      <button id="submitJoinCodeButton" type="button" class="btn btn-primary">Join</button>
      <p id="joinError" class="text-warning"></p>
    </div>
    <div id="waitingForDrawingScreen">
      <p id="whyAmIWaiting"></p>
      <div id="streamingBoardOuter">
        <div class="ratioSquare">
          <div class="ratioContainer">
            <canvas width="512" height="512" id="streamingBoard"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div id="drawingScreen">
      <p id="whatAmIDrawing"></p>
      <div id="drawingBoardOuter">
        <div class="ratioSquare">
          <div class="ratioContainer">
            <canvas width="512" height="512" id="drawingBoard"></canvas>
          </div>
        </div>
      </div>
      <button id="submitDrawingButton" type="button" class="btn btn-primary">Submit</button>
    </div>
    <div id="waitingForAiScreen">
      <p>That's it for human input!</p>
      <p>Drumroll for the AI Super exPENsion, please...</p>
    </div>
    <div id="doneScreen">
      <p>BEHOLD! Your beautiful AI Super exPENsion!</p>
      <div id="finalDrawingOuter">
        <div class="ratioSquare">
          <div class="ratioContainer">
            <img id="finalScribble" class="finalDrawing" src="" alt="An abstract scribble">
            <img id="finalExpension" class="finalDrawing finalDrawingActive" src="" alt="A coherent drawing made as an exPENsion of an abstract scribble">
            <img id="finalAiSuperExpension" class="finalDrawing" src="" alt="An AI-generated variation of a coherent drawing made as an exPENsion of an abstract scribble">
          </div>
        </div>
      </div>
      <div id="playAgainCheckboxForm" class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="playAgainCheckbox">
        <label class="form-check-label" for="playAgainCheckbox">
          Ready to play again?
        </label>
      </div>
      <!-- https://getbootstrap.com/docs/5.0/forms/checks-radios/ -->
      <div id="finalDrawingForm">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="showFinalScribble" checked>
          <label class="form-check-label" for="showFinalScribble">
            Show scribble
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="showFinalExpension">
          <label class="form-check-label" for="showFinalExpension">
            Show exPENsion
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="showFinalAiSuperExpension">
          <label class="form-check-label" for="showFinalAiSuperExpension">
            Show AI Super exPENsion
          </label>
        </div>
      </div>
      <button id="saveDrawingsButton" type="button" class="btn btn-primary">Save drawings</button>
      <p class="smallItalics">(Your browser may ask for permission the first time)</p>
    </div>
    <div id="noCanvasScreen">
      <p>Your browser doesn't support Canvas! Please get a newer browser and start a new game.</p>
    </div>
  </div>
</body>
</html>